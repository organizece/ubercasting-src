(function(e){e.fn.resizecrop=function(t){var n={width:50,height:50,vertical:"center",horizontal:"center",wrapper:"span",moveClass:!0,moveId:!0,className:"resizecrop",zoom:!0,wrapperCSS:{}},t=e.extend(n,t);return this.each(function(){function u(e){width_ratio=t.width/e.width(),height_ratio=t.height/e.height();if(width_ratio>height_ratio){(t.zoom||width_ratio<1)&&e.width(t.width);switch(t.vertical){case"top":e.css("top",0);break;case"bottom":e.css("bottom",0);break;case"center":default:e.css("top",(e.height()-t.height)/-2+"px")}t.zoom||width_ratio<1?e.css("left",0):e.css("left",(e.width()-t.width)/-2+"px")}else{(t.zoom||height_ratio<1)&&e.height(t.height);switch(t.horizontal){case"left":e.css("left",0);break;case"right":e.css("right",0);break;case"center":default:e.css("left",(e.width()-t.width)/-2+"px")}t.zoom||height_ratio<1?e.css("top",0):e.css("top",(e.height()-t.height)/-2+"px")}e.css({position:"relative",display:"block"})}var n=e(this);n.css("display","none"),n.removeAttr("width").removeAttr("height");var r=e(document.createElement(t.wrapper)).css({width:t.width,height:t.height,overflow:"hidden",display:"inline-block","vertical-align":"middle",position:"relative"}).css(t.wrapperCSS);if(t.moveClass){var i=n.attr("class");if(typeof i!="undefined"&&i!==!1&&i!==""){var s=i.split(/\s+/);e.each(s,function(e,t){r.addClass(t)}),n.removeAttr("class"),n.addClass(t.className)}}if(t.moveId){var o=n.attr("id");typeof o!="undefined"&&o!==!1&&o!==""&&(n.removeAttr("id"),r.attr("id",o))}n.wrap(r),this.complete?u(n):n.load(function(){u(e(this))})})},e.fn.cropresize=e.fn.resizecrop})(jQuery);