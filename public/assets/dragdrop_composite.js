$(function(){function n(){var e=$("div#composite-template input").size(),t=new Array(e),n=new Array(e),r=new Array(e),i=0,s=0,o=$("ul#model-gallery img").size();for(var u=0;u<e;u++)t[u]=$("div#composite-template input:eq("+u+")").val();if(t[0]!=""){for(var a=0;a<e;a++)n[a]=$("div#composite-template div.is-droppable:eq("+a+")");for(var f=0;f<r.length;f++)for(var l=0;l<o;l++){s=$("ul#model-gallery img:eq("+l+")").prop("id");if(s==t[f]){r[f]=$("ul#model-gallery img:eq("+l+")").prop("src");break}}for(var c=0;c<e;c++)n[c].text(""),n[c].append('<img src="'+r[c]+'" alt="Model Photo" height="10">'),$("img",n[c]).resizeToParent()}}function r(){$("select#template-composite").change(function(e){var t=$(this).val();$("div#composite-template").removeClass("composite-type-01"),$("div#composite-template").removeClass("composite-type-02"),$("div#composite-template").removeClass("composite-type-03");switch(t){case"template01":$("div#composite-template").addClass("composite-type-01"),$("input#composite_composite_style").val("composite-type-01");break;case"template02":$("div#composite-template").addClass("composite-type-02"),$("input#composite_composite_style").val("composite-type-02");break;case"template03":$("div#composite-template").addClass("composite-type-03"),$("input#composite_composite_style").val("composite-type-03")}})}function i(){var e=$("div#container-composite ul#model-gallery").length;e>0&&$("div#container-composite ul#model-gallery li.is-draggable img").resizeToParent({parent:"li.is-draggable"})}function s(){var e=$("div#secundary-links ul li.agency-owner-name").text().length;if(e>24){var t=$("div#secundary-links ul li.agency-owner-name").text(),n=t.substring(4,t.length),r=n.indexOf(" "),i=n.substring(0,r);i+=",",$("div#secundary-links ul li.agency-owner-name").text("Ol√° "+i)}$("div#secundary-links ul li.agency-owner-name").css("font-size","13px")}var e=$("#model-gallery"),t=$("#composite-template");$("li",e).draggable({cancel:"p",revert:"invalid",containment:"document",helper:"clone",cursor:"move"}),$("div#composite-template div.is-droppable").droppable({drop:function(e,t){var n=$("img",t.draggable).prop("src");$(this).text(" "),$('<img src="'+n+'" alt="Model Photo" style="display:none;">').appendTo($(this)),$("img",this).resizeToParent(),$("img",this).fadeIn("fast");switch($(this).prop("id")){case"composite-cover":$("input#composite_main_photo_id").val($("img",t.draggable).prop("id"));break;case"composite-01":$("input#composite_first_sub_photo_id").val($("img",t.draggable).prop("id"));break;case"composite-02":$("input#composite_second_sub_photo_id").val($("img",t.draggable).prop("id"));break;case"composite-03":$("input#composite_third_sub_photo_id").val($("img",t.draggable).prop("id"));break;case"composite-04":$("input#composite_fourth_sub_photo_id").val($("img",t.draggable).prop("id"))}}}),n(),r(),i(),s()});