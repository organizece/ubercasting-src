<%= javascript_include_tag "composite-nav" %>
<%= javascript_include_tag "modelblock" %>

<div id="search-paginator" class="auto-size-block paginator">
	
	<ul>
		<li class="put-left itens_per_page">
			Itens por página:&nbsp;&nbsp;
		    <%= select_tag :itens_per_page, options_for_select(itens_per_page, params[:itens_per_page]), class: 'input-mini' %>
		</li>
		<li class="pagination">
			<%= paginate @models %>
		</li>
		<li class="put-right order_column">
			Ordenar por:&nbsp;&nbsp;
		    <%= select_tag :order_column, options_for_select(model_order_columns, params[:order_column]), :include_blank => true, class: 'input-medium' %>
		</li>
	</ul>
	
</div>

<div id="search-casting-actions" class="auto-size-block actions-tab">	
	<ul>
		<li>
			<span>Casting:</span>
			<%= link_to "Adicionar Selecionados", subdomain_castings_add_models_path(subdomain: request.subdomain), via: :get, id: :add_selected %>
		</li>
		<li>
			<%= link_to "Selecionar Todos", "#", :id => "models-mark-all", :class => "models-mark-all"  %>
		</li>
		<li>
			<%= link_to "Adicionar Todos", subdomain_castings_add_models_path(models: @models_ids, subdomain: request.subdomain), remote: true, via: :get, id: :add_all_models %>
		</li>
		<li>
			<%= link_to "Visualizar Castings", subdomain_castings_path(subdomain: request.subdomain) %>
		</li>
	</ul>
</div>

<div id="search-models-result" class="auto-size-block">
	
	<% for model in @models %>
	
		<div class="model-box">
			
			<div class="model-box-img">
				<div class="model-box-checkbox">
					<% if @visualization_mode == 'total_access' %>
						<%= check_box_tag model, model.id %>
					<% end %>
					<%= hidden_field_tag "crop_x", model.crop_x %>
					<%= hidden_field_tag "crop_y", model.crop_y %>
					<%= hidden_field_tag "crop_w", model.crop_w %>
					<%= hidden_field_tag "crop_h", model.crop_h %>
				</div>
				
				<%= image_tag model.avatar.url %>
			</div>
			
			<div class="model-box-links">
				
				<ul>
					<% if model.composite %>
					<li class="model-box-view-composite"><%= link_to 'Visualizar Composite', subdomain_model_composite_path(model, subdomain: request.subdomain), remote: true %></li>
					<% end %>
					<li><h4><%= link_to model.art_name, subdomain_model_path(model, subdomain: request.subdomain) %></h4></li>
					<li class="model-box-add-composite"><%= link_to 'Adicionar à Casting', subdomain_castings_add_models_path(models: model.id, subdomain: request.subdomain), remote: true, via: :get %></li>
				</ul>
				
			</div>
			
		</div>
	
	<% end %>

</div>